<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Расчет использования резервных средств</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="main-container">
        <h1>Расчет использования резервных средств для ускорения строительства завода</h1>
        
        <div class="container">
            <h2>Ввод данных</h2>
            
            <div class="input-group">
                <label for="a">Этап A (Строительство корпусов, лет):</label>
                <input type="number" id="a" min="1" value="3">
            </div>
            
            <div class="input-group">
                <label for="b">Этап B (Разработка модели изделия, лет):</label>
                <input type="number" id="b" min="1" value="1">
            </div>
            
            <div class="input-group">
                <label for="n">Базовое время для этапов C, D, E (n):</label>
                <input type="number" id="n" min="1" value="2">
            </div>
            
            <div class="input-group">
                <label for="r">Резервные средства R (млн. руб.):</label>
                <input type="number" id="r" min="1" value="20">
            </div>
            
            <h3>Таблица прибыли</h3>
            <p>Введите значения прибыли для разных сроков завершения (значения должны убывать):</p>
            
            <div id="profit-table-inputs">
                <!-- Будет сгенерировано динамически -->
            </div>
            
            <div class="button-container">
                <button id="calculate-btn">Рассчитать</button>
                <button id="save-data-btn">Сохранить данные</button>
            </div>
        </div>
        
        <div id="results" class="container hidden">
            <h2>Результаты расчетов</h2>
            
            <h3>Таблица временных сценариев</h3>
            <div id="time-scenarios-table"></div>
            
            <h3>Диаграммы анализа</h3>
            <div class="charts-container">
                <div class="chart-wrapper">
                    <canvas id="timeDistributionChart"></canvas>
                </div>
                <!--div class="chart-wrapper">
                    <canvas id="profitComparisonChart"></canvas>
                </div>-->
                <div class="chart-wrapper">
                    <canvas id="principlesChart"></canvas>
                </div>
            </div>
            
            <h3>Детальные таблицы перебора сценариев</h3>
            <button class="toggle-details" onclick="app.toggleDetails('detailed-scenarios')">
                Показать/скрыть детальные таблицы
            </button>
            <div id="detailed-scenarios" class="hidden">
                <h4>Без использования резервных средств</h4>
                <div class="scenario-table">
                    <table id="detailed-table-without">
                        <thead>
                            <tr>
                                <th>C</th>
                                <th>D</th>
                                <th>E</th>
                                <th>Время</th>
                                <th>Прибыль</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Заполнится динамически -->
                        </tbody>
                    </table>
                </div>
                
                <h4>С использованием резервных средств</h4>
                <div class="scenario-table">
                    <table id="detailed-table-with">
                        <thead>
                            <tr>
                                <th>C</th>
                                <th>D</th>
                                <th>E</th>
                                <th>Ускорен</th>
                                <th>Время</th>
                                <th>Прибыль</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Заполнится динамически -->
                        </tbody>
                    </table>
                </div>
            </div>
            
            <h3>Анализ принципов принятия решений</h3>
            <div id="principles-analysis"></div>
            
            <h3>Рекомендация</h3>
            <div id="recommendation"></div>
            
            <div class="button-container">
                <button id="simulate-btn">Смоделировать случайный сценарий</button>
            </div>
            <div id="simulation-result" class="hidden"></div>
            
            <div class="export-buttons">
                <button id="export-txt-btn">Экспорт в TXT</button>
                <!--<button id="export-csv-btn">Экспорт в CSV</button>-->
                
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>